def choose_character(self):
    # Сбрасываем счетчик убийств монстров при начале новой игры
    self.killed_enemies = 0

    selected_character = None
    confirm_button_pressed = False

    while not confirm_button_pressed:
        confirm_button_rect = self.draw_choose_character_screen()

        for event in pygame.event.get():
            if event.type == pygame.QUIT:
                pygame.quit()
                sys.exit()

            if event.type == pygame.MOUSEBUTTONDOWN:
                if confirm_button_rect.collidepoint(event.pos) and selected_character is not None:
                    confirm_button_pressed = True

                for i, char in enumerate(characters):
                    if self.character_images[i] and char.rect and char.rect.collidepoint(event.pos):
                        selected_character = char
                        char.highlighted = True
                        for other_char in characters:
                            if other_char != char:
                                other_char.highlighted = False
                        if selected_character.name == "Немецкий медик":
                            self.ammo = 5
                        elif selected_character.name == "Военный Нигерии":
                            self.ammo = 0
                            self.player_max_health = 12
                            self.player_health = 12
                        else:
                            self.ammo = 10

        if confirm_button_pressed and selected_character:
            self.player_name = input_box(self.screen, "Введите имя персонажа:", self.width, self.height, self.stars)
            self.selected_character = selected_character
            self.show_character_intro(selected_character)
            return selected_character
